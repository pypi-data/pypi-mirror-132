{"version":3,"file":"lib_index_js.b14d597ae4cb174b94ed.js","mappings":";;;;;;;;;;;;;;;;;;AAAwD;AACH;AACrD;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAAa;AACxC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,mBAAmB,kEAAkB,SAAS,mBAAmB;AACjE;AACA;AACA,iEAAe,MAAM,EAAC","sources":["webpack://jupyterlab_autoscrollcelloutput/./lib/index.js"],"sourcesContent":["import { DisposableDelegate } from '@lumino/disposable';\r\nimport { ToolbarButton } from '@jupyterlab/apputils';\r\nfunction JupyterLabAutoScroll() {\r\n    let divs = document.querySelectorAll('.lm-Widget.p-Widget.jp-OutputArea.jp-Cell-outputArea');\r\n    for (let i = 0; i < divs.length; i++) {\r\n        let div = divs[i];\r\n        if (div.scrollHeight > 0 &&\r\n            div.scrollTop != div.scrollHeight &&\r\n            div.parentElement != null &&\r\n            div.parentElement.parentElement != null &&\r\n            div.parentElement.parentElement.childNodes[1].childNodes[1].childNodes[0].childNodes[0].textContent == \"[*]:\") {\r\n            if (div.childNodes.length == 1) {\r\n                div.scrollTop = div.scrollHeight;\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Initialization data for the jupyterlab_autoscrollcelloutput extension.\r\n */\r\nconst plugin = {\r\n    id: 'jupyterlab_autoscrollcelloutput:plugin',\r\n    autoStart: true,\r\n    activate: (app) => {\r\n        console.log('JupyterLab extension jupyterlab_autoscrollcelloutput is activated!');\r\n        app.docRegistry.addWidgetExtension('Notebook', new ButtonAutoScrollCellOutput());\r\n    }\r\n};\r\nexport class ButtonAutoScrollCellOutput {\r\n    createNew(panel, context) {\r\n        const triggerAutoScrollCellOutput = () => {\r\n            if (SET) {\r\n                SET = false;\r\n                if (button.hasClass('selected'))\r\n                    button.removeClass('selected');\r\n                clearInterval(t);\r\n            }\r\n            else {\r\n                SET = true;\r\n                button.addClass('selected');\r\n                t = setInterval(JupyterLabAutoScroll, 10);\r\n            }\r\n        };\r\n        const button = new ToolbarButton({\r\n            className: 'buttonAutoScrollCellOuput',\r\n            iconClass: 'wll-ScrollIcon',\r\n            label: 'scroll',\r\n            onClick: triggerAutoScrollCellOutput,\r\n            tooltip: 'Auto Scroll Cell Ouput'\r\n        });\r\n        panel.toolbar.insertItem(10, 'AutoScrollCellOutput', button);\r\n        var SET = true;\r\n        var t = setInterval(JupyterLabAutoScroll, 10);\r\n        button.addClass('selected');\r\n        return new DisposableDelegate(() => { button.dispose(); });\r\n    }\r\n}\r\nexport default plugin;\r\n"],"names":[],"sourceRoot":""}