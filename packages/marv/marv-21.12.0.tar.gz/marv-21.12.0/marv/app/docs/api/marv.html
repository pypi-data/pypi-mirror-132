<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>marv &mdash; MARV Robotics 21.12.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx_paramlinks.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon-32x32.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Changelog" href="../CHANGES.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> MARV Robotics
          </a>
              <div class="version">
                21.12
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/setup-basic-site.html">Tutorial: Setup basic site</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/write-your-own.html">Tutorial: Write your own nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contribution guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../patterns.html">Patterns and known issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../debug.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scan.html">Scanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nodes.html">Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../widgets.html">Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../httpapi.html">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../upload.html">Upload (EE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../deploy.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accesscontrol.html">Access Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintenance.html">Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migrate/index.html">Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">marv</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-marv_api.scanner">Creating datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-marv_api">Declaring nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interacting-with-marv">Interacting with marv</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MARV Robotics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>marv</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/marv.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="marv">
<h1>marv<a class="headerlink" href="#marv" title="Permalink to this headline"></a></h1>
<section id="module-marv_api.scanner">
<span id="creating-datasets"></span><h2>Creating datasets<a class="headerlink" href="#module-marv_api.scanner" title="Permalink to this headline"></a></h2>
<p>Dataset scanner.</p>
<p>Datasets are created based on information provided by scanners.  A
scanner is responsible to group files into named datasets:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">marv_api</span> <span class="kn">import</span> <span class="n">DatasetInfo</span>

<span class="k">def</span> <span class="nf">scan</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">dirnames</span><span class="p">,</span> <span class="n">filenames</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">DatasetInfo</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">[</span><span class="n">x</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">filenames</span>
            <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.csv&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>Scanners are called for every directory within the configured
scanroots, while files and directories starting with a <code class="docutils literal notranslate"><span class="pre">.</span></code> and
directories containing an (empty) <code class="docutils literal notranslate"><span class="pre">.marvignore</span></code> file are ignored and
will not be traversed into.</p>
<p>Further, traversal into subdirectories can be controlled by
altering the <code class="xref py py-paramref docutils literal notranslate"><span class="pre">dirnames</span></code> list in-place. To block further
traversal, e.g. for a directory-based dataset type, set it to an
empty list – <a class="reference external" href="https://docs.python.org/3.8/library/os.html#os.walk" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.walk()</span></code></a> is used behind the scenes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dirnames</span><span class="p">[:]</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="marv_api.scanner.DatasetInfo">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.scanner.</span></span><span class="sig-name descname"><span class="pre">DatasetInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#marv_api.scanner.DatasetInfo" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="marv_api.scanner.DatasetInfo.files">
<span class="sig-name descname"><span class="pre">files</span></span><a class="headerlink" href="#marv_api.scanner.DatasetInfo.files" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="marv_api.scanner.DatasetInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#marv_api.scanner.DatasetInfo.name" title="Permalink to this definition"></a></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-marv_api">
<span id="declaring-nodes"></span><h2>Declaring nodes<a class="headerlink" href="#module-marv_api" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="marv_api.input">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">name</span></em>, <em class="sig-param"><span class="pre">default=&lt;NOTSET&gt;</span></em>, <em class="sig-param"><span class="pre">foreach=None</span></em>, <em class="sig-param"><span class="pre">type=None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/decorators.html#input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#marv_api.input" title="Permalink to this definition"></a></dt>
<dd><p>Declare input for a node.</p>
<p>Plain inputs, that is plain python objects, are directly passed to
the node. Whereas streams generated by other nodes are requested
and once the handles of all input streams are available the node
is instantiated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="marv_api.input.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#marv_api.input.params.name">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of the node function argument the input will
be passed to.</p></li>
<li><p><span class="target" id="marv_api.input.params.default"></span><strong>default</strong><a class="paramlink headerlink reference internal" href="#marv_api.input.params.default">¶</a> – An optional default value for the input. This can be
any python object or another node.</p></li>
<li><p><span class="target" id="marv_api.input.params.foreach"></span><strong>foreach</strong><a class="paramlink headerlink reference internal" href="#marv_api.input.params.foreach">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – This parameter is currently not supported and
only for internal usage.</p></li>
<li><p><span class="target" id="marv_api.input.params.type"></span><strong>type</strong><a class="paramlink headerlink reference internal" href="#marv_api.input.params.type">¶</a> – Stream message type.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The original function decorated with this input
specification. A function is turned into a node by the
<a class="reference internal" href="#marv_api.node" title="marv_api.node"><code class="xref py py-func docutils literal notranslate"><span class="pre">node()</span></code></a> decorator.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If type not supported for input stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="marv_api.node">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">schema</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/decorators.html#node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#marv_api.node" title="Permalink to this definition"></a></dt>
<dd><p>Turn function into node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="marv_api.node.params.schema"></span><strong>schema</strong><a class="paramlink headerlink reference internal" href="#marv_api.node.params.schema">¶</a> – capnproto schema describing the output messages format</p></li>
<li><p><span class="target" id="marv_api.node.params.group"></span><strong>group</strong><a class="paramlink headerlink reference internal" href="#marv_api.node.params.group">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – A boolean indicating whether the default stream
of the node is a group, meaning it will be used to
published handles for streams or further groups. In case
of <code class="xref py py-paramref docutils literal notranslate"><span class="pre">marv.input.foreach</span></code> specifications this flag will
default to <cite>True</cite>. This parameter is currently only for
internal usage.</p></li>
<li><p><span class="target" id="marv_api.node.params.version"></span><strong>version</strong><a class="paramlink headerlink reference internal" href="#marv_api.node.params.version">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – This parameter currently has no effect.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code> instance according to the given
arguments and <a class="reference internal" href="#marv_api.input" title="marv_api.input"><code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code></a> decorators.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#TypeError" title="(in Python v3.8)"><strong>TypeError</strong></a> – If not called, double decorated, or not generator.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="interacting-with-marv">
<h2>Interacting with marv<a class="headerlink" href="#interacting-with-marv" title="Permalink to this headline"></a></h2>
<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">Abort</span></span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#Abort"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">DatasetInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">files</span></span></dt>
<dd><p>Alias for field number 1</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><p>Alias for field number 0</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">InputNameCollisionError</span></span><a class="reference internal" href="../_modules/marv_api/decorators.html#InputNameCollisionError"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>An input with the same name already has been declared.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">ReaderError</span></span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#ReaderError"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>A file could not be read, full node run is aborted.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">ResourceNotFoundError</span></span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#ResourceNotFoundError"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.8/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Requested resource could not be found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">create_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#create_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">create_stream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#create_stream"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Create a stream for publishing messages.</p>
<p>All keyword arguments will be used to form the header.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">get_logger</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#get_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">get_requested</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#get_requested"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">get_resource_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#get_resource_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Request path to resource from site/resources.</p>
<p>Treat resource as readonly, do NOT modify.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><span class="target" id="marv_api.get_resource_path.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#marv_api.get_resource_path.params.name">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Name of resource, interpreted as path relative to resource directory.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">GetResourcePath</span></code></p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>GetRequestPath request to yield to marv.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">make_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#make_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">pull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enumerate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#pull"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Pull next message for handle.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="marv_api.pull.params.handle"></span><strong>handle</strong><a class="paramlink headerlink reference internal" href="#marv_api.pull.params.handle">¶</a> – A <code class="xref py py-class docutils literal notranslate"><span class="pre">stream.Handle</span></code> or GroupHandle.</p></li>
<li><p><span class="target" id="marv_api.pull.params.enumerate"></span><strong>enumerate</strong><a class="paramlink headerlink reference internal" href="#marv_api.pull.params.enumerate">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a>) – boolean to indicate whether a tuple <code class="docutils literal notranslate"><span class="pre">(idx,</span> <span class="pre">msg)</span></code>
should be returned, not unlike Python’s enumerate().</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">Pull</span></code> task to be yielded. Marv will send the
corresponding message as soon as it is available. For groups
this message will be a handle to a member of the
group. Members of groups are either streams or groups.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Pulling (enumerated) message from stream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">msg</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">marv</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
<span class="n">idx</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">marv</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="nb">enumerate</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Pulling stream from group and message from stream:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stream</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">marv</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>  <span class="c1"># a group of streams</span>
<span class="n">msg</span> <span class="o">=</span> <span class="k">yield</span> <span class="n">marv</span><span class="o">.</span><span class="n">pull</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">pull_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">handles</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#pull_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Pull next message of all handles.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#push"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/decorators.html#select"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Select specific stream of a node by name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><span class="target" id="marv_api.select.params.node"></span><strong>node</strong><a class="paramlink headerlink reference internal" href="#marv_api.select.params.node">¶</a> – A node producing a group of streams.</p></li>
<li><p><span class="target" id="marv_api.select.params.name"></span><strong>name</strong><a class="paramlink headerlink reference internal" href="#marv_api.select.params.name">¶</a> (<a class="reference external" href="https://docs.python.org/3.8/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Name of stream to select.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Node outputting selected stream.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">marv_api.</span></span><span class="sig-name descname"><span class="pre">set_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/marv_api/ioctrl.html#set_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Set the header of a stream or group.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../CHANGES.html" class="btn btn-neutral float-left" title="Changelog" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright  Copyright 2016-2021  Ternaris.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>