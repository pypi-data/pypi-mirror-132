Metadata-Version: 2.1
Name: cdk-watchful
Version: 0.5.333
Summary: Watching your CDK apps since 2019
Home-page: https://github.com/eladb/cdk-watchful.git
Author: Elad Ben-Israel<elad.benisrael@gmail.com>
License: Apache-2.0
Project-URL: Source, https://github.com/eladb/cdk-watchful.git
Platform: UNKNOWN
Classifier: Intended Audience :: Developers
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: JavaScript
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.6
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Typing :: Typed
Classifier: Development Status :: 5 - Production/Stable
Classifier: License :: OSI Approved
Requires-Python: >=3.6
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: aws-cdk.aws-apigateway (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-cloudwatch-actions (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-cloudwatch (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-dynamodb (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-ecs-patterns (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-ecs (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-elasticloadbalancingv2 (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-events-targets (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-events (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-lambda (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-rds (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-sns-subscriptions (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-sns (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-sqs (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.aws-stepfunctions (<2.0.0,>=1.95.2)
Requires-Dist: aws-cdk.core (<2.0.0,>=1.95.2)
Requires-Dist: constructs (<4.0.0,>=3.2.27)
Requires-Dist: jsii (<2.0.0,>=1.50.0)
Requires-Dist: publication (>=0.0.3)

# cdk-watchful

> Watching your CDK back since 2019

Watchful is an [AWS CDK](https://github.com/awslabs/aws-cdk) construct library that makes it easy
to monitor CDK apps. It automatically synthesizes alarms and dashboards for supported AWS resources.

```python
# Example automatically generated from non-compiling source. May contain errors.
import { Watchful } from 'cdk-watchful'

const wf = new Watchful(this, 'watchful');
wf.watchDynamoTable('My Cute Little Table', myTable);
wf.watchLambdaFunction('My Function', myFunction);
wf.watchApiGateway('My REST API', myRestApi);
```

And...

![](https://raw.githubusercontent.com/eladb/cdk-watchful/master/example/sample.png)

## Initialize

To get started, just define a `Watchful` construct in your CDK app.
You can initialize using an email address, SQS ARN or both:

```python
# Example automatically generated from non-compiling source. May contain errors.
import { Watchful } from 'cdk-watchful'
import * as sns from '@aws-cdk/aws-sns';
import * as sqs from '@aws-cdk/aws-sqs';

const alarmSqs = sqs.Queue.fromQueueArn(this, 'AlarmQueue', 'arn:aws:sqs:us-east-1:444455556666:alarm-queue')
const alarmSns = sns.Topic.fromTopicArn(this, 'AlarmTopic', 'arn:aws:sns:us-east-2:444455556666:MyTopic');

const wf = new Watchful(this, 'watchful', {
  alarmEmail: 'your@email.com',
  alarmSqs,
  alarmSns,
  alarmActionArns: [ 'arn:aws:sqs:us-east-1:444455556666:alarm-queue' ]
});
```

## Add Resources

Watchful manages a central dashboard and configures default alarming for:

* Amazon DynamoDB: `watchful.watchDynamoTable`
* AWS Lambda: `watchful.watchLambdaFunction`
* Amazon API Gateway: `watchful.watchApiGateway`
* [Request yours](https://github.com/eladb/cdk-watchful/issues/new)

## Watching Scopes

Watchful can also watch complete CDK construct scopes. It will automatically
discover all watchable resources within that scope (recursively), add them
to your dashboard and configure alarms for them.

```python
# Example automatically generated from non-compiling source. May contain errors.
wf.watchScope(storageLayer);
```

## Example

See a more complete [example](https://github.com/eladb/cdk-watchful/blob/master/example/index.ts).

## Contributing

Contributions of all kinds are welcome and celebrated. Raise an issue, submit a PR, do the right thing.

To set up a dev environment:

1. Clone this repo
2. `yarn`

Development workflow (change code and run tests automatically):

```shell
yarn test:watch
```

Build (like CI):

```shell
yarn build
```

And then publish as a PR.

## License

[Apache 2.0](https://github.com/eladb/cdk-watchful/blob/master/LICENSE)


