"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[41360],{23682:function(e,n,t){function r(e,n){if(n.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}t.d(n,{Z:function(){return r}})},90394:function(e,n,t){function r(e){if(null===e||!0===e||!1===e)return NaN;var n=Number(e);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}t.d(n,{Z:function(){return r}})},79021:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(90394),o=t(34327),a=t(23682);function u(e,n){(0,a.Z)(2,arguments);var t=(0,o.Z)(e),u=(0,r.Z)(n);return isNaN(u)?new Date(NaN):u?(t.setDate(t.getDate()+u),t):t}},59699:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(90394),o=t(39244),a=t(23682),u=36e5;function i(e,n){(0,a.Z)(2,arguments);var t=(0,r.Z)(n);return(0,o.Z)(e,t*u)}},39244:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(90394),o=t(34327),a=t(23682);function u(e,n){(0,a.Z)(2,arguments);var t=(0,o.Z)(e).getTime(),u=(0,r.Z)(n);return new Date(t+u)}},32182:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(90394),o=t(34327),a=t(23682);function u(e,n){(0,a.Z)(2,arguments);var t=(0,o.Z)(e),u=(0,r.Z)(n);if(isNaN(u))return new Date(NaN);if(!u)return t;var i=t.getDate(),c=new Date(t.getTime());c.setMonth(t.getMonth()+u+1,0);var s=c.getDate();return i>=s?c:(t.setFullYear(c.getFullYear(),c.getMonth(),i),t)}},93752:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(34327),o=t(23682);function a(e){(0,o.Z)(1,arguments);var n=(0,r.Z)(e);return n.setHours(23,59,59,999),n}},70390:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(93752);function o(){return(0,r.Z)(Date.now())}},47538:function(e,n,t){function r(){var e=new Date,n=e.getFullYear(),t=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(n,t,r-1),o.setHours(23,59,59,999),o}t.d(n,{Z:function(){return r}})},59429:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(34327),o=t(23682);function a(e){(0,o.Z)(1,arguments);var n=(0,r.Z)(e);return n.setHours(0,0,0,0),n}},13250:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(34327),o=t(23682);function a(e){(0,o.Z)(1,arguments);var n=(0,r.Z)(e);return n.setDate(1),n.setHours(0,0,0,0),n}},27088:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(59429);function o(){return(0,r.Z)(Date.now())}},83008:function(e,n,t){function r(){var e=new Date,n=e.getFullYear(),t=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(n,t,r-1),o.setHours(0,0,0,0),o}t.d(n,{Z:function(){return r}})},34327:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(23682);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e){(0,r.Z)(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):("string"!=typeof e&&"[object String]"!==n||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},66054:function(e,n,t){t.r(n),t.d(n,{EnergyStrategy:function(){return c}});var r=t(55424);function o(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,n,t,r,o,a,u){try{var i=e[a](u),c=i.value}catch(s){return void t(s)}i.done?n(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var u=e.apply(n,t);function i(e){a(u,r,o,i,c,"next",e)}function c(e){a(u,r,o,i,c,"throw",e)}i(void 0)}))}}var i=function(){var e=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.e(878),t.e(88369)]).then(t.bind(t,55158));case 2:return e.abrupt("return",{type:"panel",cards:[{type:"custom:energy-setup-wizard-card"}]});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t,a,c;return n=e,t=null,a=[{key:"generateView",value:(c=u(regeneratorRuntime.mark((function e(n){var t,o,a,u,c,s,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.hass,o={cards:[]},e.prev=2,e.next=5,(0,r.ZC)(t);case 5:a=e.sent,e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(2),"not_found"!==e.t0.code){e.next=12;break}return e.abrupt("return",i());case 12:return o.cards.push({type:"markdown",content:"An error occured while fetching your energy preferences: ".concat(e.t0.message,".")}),e.abrupt("return",o);case 14:return o.type="sidebar",u=a.energy_sources.find((function(e){return"grid"===e.type})),c=u&&u.flow_to.length,s=a.energy_sources.some((function(e){return"solar"===e.type})),f=a.energy_sources.some((function(e){return"gas"===e.type})),n.narrow&&o.cards.push({type:"energy-date-selection",collection_key:"energy_dashboard",view_layout:{position:"sidebar"}}),u&&o.cards.push({title:"Energy usage",type:"energy-usage-graph",collection_key:"energy_dashboard"}),s&&o.cards.push({title:"Solar production",type:"energy-solar-graph",collection_key:"energy_dashboard"}),f&&o.cards.push({title:"Gas consumption",type:"energy-gas-graph",collection_key:"energy_dashboard"}),u&&o.cards.push({title:"Energy distribution",type:"energy-distribution",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),(u||s)&&o.cards.push({title:"Sources",type:"energy-sources-table",collection_key:"energy_dashboard"}),c&&o.cards.push({type:"energy-grid-neutrality-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),s&&c&&o.cards.push({type:"energy-solar-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),u&&o.cards.push({type:"energy-carbon-consumed-gauge",view_layout:{position:"sidebar"},collection_key:"energy_dashboard"}),a.device_consumption.length&&o.cards.push({title:"Monitor individual devices",type:"energy-devices-graph",collection_key:"energy_dashboard"}),e.abrupt("return",o);case 30:case"end":return e.stop()}}),e,null,[[2,8]])}))),function(e){return c.apply(this,arguments)})}],t&&o(n.prototype,t),a&&o(n,a),e}()}}]);